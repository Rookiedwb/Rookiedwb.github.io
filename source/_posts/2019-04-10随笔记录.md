---
---
title: 关于java下载文件设置响应头
date: 2019-04-10 10:33:14
categories:
- 个人工作随笔
tags:
- java
- 文件下载
- 编码设置
cover: /img/cover/diary.jpeg
---
---
记录一次关于java后台向前台提供下载文件时，响应头部需要的设置。防止**锟斤拷**

具体设置如下：（以后在整理吧，先记录下来）
``` java
public void download(HttpServletResponse res, Entity entity) throws IOException {
		if (null == entity) {
			entity = new Entity();
		}
		// .创建文件名
		String fileName = "xxx.xxx";
		// 返回文件相应头设置
		res.setHeader("Content-Disposition", "attachment;filename*=UTF-8''" + URLEncoder.encode(fileName, "UTF-8"));
		res.setHeader("Content-Type", "multipart/form-data");
		OutputStream os = res.getOutputStream();
		service.download(entity).write(os);
		os.flush();
		os.close();
	}
```
